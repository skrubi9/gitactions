name: test-ci

on:
  workflow_dispatch:
    inputs:
      start-pipeline:
        required: true
        type: choice
        description: defines if the workflow shoule be started or not
        options: 
          - run

jobs:

  run-deploy:
    uses: skrubi9/gitactions/.github/workflows/reusable-deploy.yml@main
    with: 
      env: "production"

  manual-approve-deploy:
    name: manual-approve-deploy
    runs-on: ubuntu-latest
    steps:
      - uses: trstringer/manual-approval@v1
        with: 
          approvers: skrubi9
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/run-deploy
    needs: 
      - manual-approve-deploy

